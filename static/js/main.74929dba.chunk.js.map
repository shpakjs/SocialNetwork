{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/dialogsReducer.js","redux/usersReducer.js","assets/images/puzzle.svg","assets/images/login.jpg","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","assets/images/preloader.gif","components/common/Preloader/Preloader.module.css","api/api.js","serviceWorker.js","components/Navbar/Navbar.js","redux/authReducer.js","components/Navbar/NavbarContainer.js","components/Login/Login.js","components/Login/LoginContainer.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","hoc/withAuthRedirect.js","components/common/FormControls/FormControls.js","components/Login/Login.module.css","utils/validators/validators.js","components/common/Preloader/Preloader.js","components/common/FormControls/FormControls.module.css","redux/profileReducer.js"],"names":["module","exports","nav__wrapper","logo","nav","item","active","initialState","dialogs","id","name","messages","author","time","message","newMessageText","sendMessageCreator","messageText","type","dialogsReducer","state","arguments","length","undefined","action","newMessage","newMessageBody","Object","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","concat","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","toggleFollowingAC","userId","setUsersAC","toggleIsFetchingAC","toggleFollowingProgressAC","requestUsers","_ref","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","response","wrap","_context","prev","next","usersAPI","getUsers","sent","items","totalCount","stop","_x","apply","this","toggleFollowing","isFollowing","_ref2","_callee2","_context2","toggleFollowingUser","resultCode","_x2","usersReducer","stateCopy","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","map","user","followed","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","includes","filteredArr","filter","value","__webpack_require__","p","news","music","settings","preloader","instance","axios","baseURL","withCredentials","crossDomain","headers","API-KEY","get","then","data","_toggleFollowingUser","isFollow","delete","t0","post","abrupt","profileAPI","getStatus","setStatus","status","put","savePhoto","photoFile","formData","FormData","append","Content-Type","getUserProfile","saveUserProfile","authAPI","me","login","email","password","remeberMe","captcha","logout","securityAPI","getCaptcha","Boolean","window","location","hostname","match","Navbar","props","react_default","createElement","className","styles","src","alt","react_router_dom","to","activeClassName","onClick","isAuth","captchaUrl","setAuthUserData","payload","getAuthUserData","asyncToGenerator","regenerator_default","_response$data","_login","getCaptchaUrl","_ref3","_callee3","_context3","url","_x3","authReducer","objectSpread","NavbarContainer","components_Navbar_Navbar","Fragment","React","Component","compose","connect","authPage","_ref4","_callee4","_context4","_x4","withAuthRedirect","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","requiredField","Input","summaryError","Login","react_router","style","backgroundImage","bg","onLogin","rememberMe","LoginAPIComponent","_this","loginForm","components_Login_Login","LoginContainer","stopSubmit","_error","AuthRedirectComponent","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebarPage","usersPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddlewear","withSuspense","Suspense","fallback","Preloader","DialogsContainer","lazy","e","bind","UsersContainer","ProfileContainer","App","initializeApp","Navbar_NavbarContainer","path","render","components_News_News","components_Music_Music","components_Settings_Settings","Login_LoginContainer","AppConatainer","promise","Promise","all","result","withRouter","MainApp","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","mapStateToPropsForRedirect","RedirectComponent","_React$Component","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","FormControl","input","meta","child","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","touched","react__WEBPACK_IMPORTED_MODULE_1___default","formControl","children","Textarea","restProps","assign","placeholder","validator","component","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","htmlFor","d","__webpack_exports__","maxLengthCreator","maxLength","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_preloader_gif__WEBPACK_IMPORTED_MODULE_1__","_assets_images_preloader_gif__WEBPACK_IMPORTED_MODULE_1___default","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_2__","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_2___default","posts","date","body","profileInfo","addPostAC","newPostText","setStatusAC","setPhotoAC","photo","updateStatus","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","photos","getProfile","saveProfile","_ref5","_callee5","getState","errorFieldsArr","errorData","_context5","slice","indexOf","split","toLowerCase","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","reject","_x5","_x6","newPost","fullName","Date","toLocaleDateString","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_4__","C_Users_iushp_shpakjs_SocialNetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","postId"],"mappings":"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","file":"static/js/main.74929dba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav__wrapper\":\"Navbar_nav__wrapper__UxdnR\",\"logo\":\"Navbar_logo__N14yr\",\"nav\":\"Navbar_nav__1fjvU\",\"item\":\"Navbar_item__1WlUz\",\"active\":\"Navbar_active__11Z3n\"};","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Julia' },\r\n        { id: 2, name: 'Andrii' },\r\n        { id: 3, name: 'Anton ' },\r\n    ],\r\n    messages: [\r\n        { id: 1, author: 'Yuliia', time: '21:00', message:'Hi'},\r\n        { id: 2, author: 'Anton', time: '07:00', message:'How r u'},\r\n        { id: 3, author: 'Anton', time: '12:31', message:'fantastic and u?'},\r\n        { id: 4, author: 'Yuliia', time: '12:47', message: 'want some pizza'},\r\n        { id: 5, author: 'Anton', time: '21:55', message:'me too'},\r\n    ],\r\n    newMessageText: ''\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SEND_MESSAGE:\r\n            let newMessage = {\r\n                id: state.messages.length + 2, \r\n                author: 'Yuliia', \r\n                time: '21:00', \r\n                message: action.messageText.newMessageBody\r\n            };\r\n            return {\r\n                ...state,\r\n                messages:[...state.messages, newMessage],\r\n                newMessageText: ''\r\n            };\r\n        default: \r\n            return state;\r\n    }\r\n}\r\nexport const sendMessageCreator = (messageText) => ({ type: 'SEND-MESSAGE' , messageText: messageText});    \r\n\r\nexport default dialogsReducer;","import {usersAPI} from '../api/api';\r\nconst TOGGLE_FOLLOW = 'FOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE-FOLLOWING-PROGRESS';\r\n\r\nlet initialState  = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case TOGGLE_FOLLOW: {\r\n            let stateCopy = {...state};\r\n            stateCopy.users = state.users.map((user) => {\r\n                if(user.id === action.userId) {\r\n                    return {...user, followed: !user.followed};\r\n                }\r\n                else {\r\n                    return {...user};\r\n                }\r\n            });\r\n            return stateCopy;\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users], currentPage: action.currentPage, totalUsersCount: action.totalUsersCount }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_FOLLOWING_PROGRESS: {\r\n            if(state.followingInProgress.includes(action.followingInProgress)) {\r\n                let filteredArr = state.followingInProgress.filter(function(value){\r\n                    return value !== action.followingInProgress;\r\n                });\r\n                return { ...state, followingInProgress: [...filteredArr]}\r\n            }\r\n            else{\r\n                return { ...state, followingInProgress: [...state.followingInProgress, action.followingInProgress]}\r\n            }\r\n            \r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const toggleFollowingAC = (userId) => ({ type: TOGGLE_FOLLOW , userId});\r\n\r\nexport const setUsersAC = (users, currentPage, totalUsersCount) => \r\n    ({type: SET_USERS, users, currentPage,  totalUsersCount});\r\n    \r\nexport const toggleIsFetchingAC = (isFetching) => \r\n    ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const toggleFollowingProgressAC = (followingInProgress) => \r\n    ({type: TOGGLE_FOLLOWING_PROGRESS, followingInProgress});\r\n\r\n//thunk creator\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsersAC(response.items, currentPage, response.totalCount));\r\n    dispatch(toggleIsFetchingAC(false));\r\n}\r\n\r\nexport const toggleFollowing = (userId , isFollowing) => async (dispatch) => {\r\n    dispatch(toggleFollowingProgressAC(userId));\r\n    let response = await usersAPI.toggleFollowingUser(userId, isFollowing);\r\n    if(response.resultCode === 0) {\r\n        dispatch(toggleFollowingAC(userId));\r\n        dispatch(toggleFollowingProgressAC(userId));\r\n    }\r\n}\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/puzzle.ab9cd3a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/login.d9c7a975.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__99sP8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__2jtUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3U_EL\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.8c636777.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2P_ut\"};","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true, \r\n    crossDomain: true,\r\n    headers: {\r\n        \"API-KEY\": '77a146e4-229d-496d-9655-f77f4dafa8d8'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    async toggleFollowingUser(userId, isFollow) {\r\n        let response = isFollow \r\n            ? await instance.delete(`follow/${userId}`) \r\n            : await instance.post(`follow/${userId}`)\r\n        return response.data;\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    setStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/formdata'\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    saveUserProfile(formData) {\r\n        return instance.put(`profile`, formData )\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    login(email, password, remeberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, remeberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('security/get-captcha-url');\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styles from './Navbar.module.css';\r\nimport logo from './../../assets/images/puzzle.svg';\r\n\r\nconst Navbar = (props) => {\r\n    return (<div className = {styles.nav__wrapper}> \r\n            <img src={logo} className={styles.logo} alt=\"\"/>\r\n            <nav className = {styles.nav}>\r\n                <div className ={`${styles.item} ${styles.active}`}>\r\n                    <NavLink to=\"/profile\" activeClassName = {styles.active}>Profile</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/dialogs\" activeClassName = {styles.active}>Messages</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/news\" activeClassName = {styles.active}>News</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/music\" activeClassName = {styles.active}>Music</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/settings\" activeClassName = {styles.active}>Settings</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/users\" activeClassName = {styles.active}>Users</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <button onClick={props.logout} >Logout</button>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null //if null captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case GET_CAPTCHA_URL_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                captchaUrl:action.url\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const setCaptchaUrl = (url) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS, url: url\r\n});\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload:\r\n        {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.resultCode === 0) {\r\n        let {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    debugger;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else if(response.data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl());\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptcha();\r\n    dispatch(setCaptchaUrl(response.data.url));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Navbar from './Navbar';\r\nimport { logout } from '../../redux/authReducer';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass NavbarContainer extends React.Component {\r\n    render() {\r\n        return  this.props.isAuth ? <Navbar {...this.props} />: <></>;\r\n    }\r\n};\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        login: state.authPage.login,\r\n        userId: state.authPage.userId,\r\n        isAuth: state.authPage.isAuth,\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {logout}), withAuthRedirect )(NavbarContainer);\r\n","import React from 'react';\r\nimport styles from './Login.module.css';\r\nimport bg from '../../assets/images/login.jpg';\r\nimport {reduxForm} from 'redux-form';\r\nimport { Input, createField } from '../common/FormControls/FormControls';\r\nimport { requiredField } from '../../utils/validators/validators';\r\nimport { Redirect } from 'react-router-dom';\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return <form onSubmit = {handleSubmit}>\r\n        <h4>Login</h4>\r\n        { createField(\"Email\", \"login\", requiredField, Input, null, {}) }\r\n        { createField(\"Password\", \"password\", requiredField, Input, null, {type:\"password\"}) }\r\n        { createField(\"Remember me\", \"rememberMe\", null, \"input\", \"remember me\", {type:\"checkbox\"}) }\r\n        { error && <div className={styles.summaryError}>{ error }</div> }\r\n        { captchaUrl && \r\n            <div>\r\n                <img src={captchaUrl} className={styles.captcha}/>\r\n                { createField(\"enter symbols from picture\", \"captcha\", requiredField, Input, null, {}) }\r\n            </div>  \r\n        }\r\n        <button>Login</button>\r\n\r\n    </form>;\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.onLogin(formData.login, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n    if(props.isAuth) return <Redirect to={\"/profile\"} />\r\n    return <div className={styles.login} style={{backgroundImage: `url(${bg})`}}><LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/></div>\r\n\r\n}\r\nexport default Login;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport styles from './Login.module.css';\r\nimport {login} from '../../redux/authReducer';\r\nimport Login from './Login';\r\n\r\nclass LoginAPIComponent  extends React.Component {\r\n    onLogin = (email, password, rememberMe, captcha) => {\r\n        this.props.login(email, password, rememberMe, captcha);\r\n    }\r\n    render() {\r\n        return( <div className={styles.loginForm}>\r\n            <Login\r\n                isAuth = {this.props.isAuth}\r\n                captchaUrl = {this.props.captchaUrl}\r\n                onLogin = {this.onLogin}\r\n        /></div>);\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        captchaUrl : state.authPage.captchaUrl\r\n    }\r\n};\r\n\r\nconst LoginContainer = connect(mapStateToProps, {\r\n    login: login,\r\n})(LoginAPIComponent);\r\n\r\nexport default LoginContainer;\r\n","import React from 'react';\r\nimport styles from './News.module.css';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className = {styles.news}> \r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(News);\r\nexport default AuthRedirectComponent;","import React from 'react';\r\nimport styles from './Music.module.css';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className = {styles.music}> \r\n            Music\r\n        </div>\r\n    );\r\n}\r\nlet AuthRedirectComponent = withAuthRedirect(Music);\r\nexport default AuthRedirectComponent;","import React from 'react';\r\nimport styles from './Settings.module.css';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nconst Settings = () => {\r\n    return (\r\n        <div className = {styles.settings}> \r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(Settings);\r\n\r\nexport default AuthRedirectComponent;","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(result => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;","\r\nconst sidebarReducer = (state = {}, action) => {\r\n    switch(action.type) {\r\n        case 'sidebar': \r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer';\r\nimport thunkMiddlewear from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    authPage: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddlewear)));\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React from 'react';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport './App.css';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport LoginContainer from './components/Login/LoginContainer';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport {Provider} from 'react-redux';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport store from './redux/reduxStore';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\n//lazy loading\r\nconst DialogsContainer = React.lazy( () => import('./components/Dialogs/DialogsContainer' ));\r\nconst UsersContainer = React.lazy( () => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy( () => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount () {\r\n      this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.initialized) {\r\n      return <Preloader/>\r\n    }\r\n\r\n    return (<div className=\"app-wraper\">\r\n      <NavbarContainer />\r\n      <div className=\"app-wraper-content\">\r\n          <Route path= '/profile:userId?' render ={withSuspense(ProfileContainer)}/>\r\n          <Route path= '/dialogs' render ={withSuspense(DialogsContainer)} />\r\n          <Route path= '/users' render = {withSuspense(UsersContainer)}/>\r\n          <Route path= '/news' render =  { () => <News />} />\r\n          <Route path= '/music' render = { () => <Music /> } />\r\n          <Route path= '/settings' render = { () => <Settings/> } />\r\n          <Route path= '/login' render = { () => <LoginContainer/>} />\r\n      </div>\r\n    </div>)\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized\r\n  }\r\n}\r\n\r\nlet AppConatainer = compose(\r\n    connect(mapStateToProps, {initializeApp}),\r\n    withRouter)(App);\r\n\r\nconst MainApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n          <AppConatainer/>\r\n        </Provider>\r\n    </HashRouter>;\r\n}\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport MainApp from './App';\r\n\r\nReactDOM.render(\r\n    <MainApp />, \r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n    let ConnectRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nexport const FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (<div className = {styles.formControl + \" \" + (hasError ? styles.error : '') }>\r\n            {props.children}\r\n        { hasError && <span>{meta.error}</span> }\r\n    </div>);\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...props.input} {...restProps}></textarea></FormControl>\r\n} \r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...props.input} {...restProps}  /></FormControl>\r\n} \r\nexport const createField = (placeholder, name, validator, component, text, props) => {\r\n    return <><Field placeholder={placeholder} \r\n            component={component} \r\n            name={name}\r\n            validate={validator}\r\n            id={name}\r\n            {...props}\r\n            />{ text && <label htmlFor={name}>{text}</label>}</>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__19ksd\",\"summaryError\":\"Login_summaryError__B2KU3\",\"captcha\":\"Login_captcha__2kQXm\"};","export const requiredField = value => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const maxLength = value => {\r\n    if(value && value.length > 30) return 'Max length is 30 symbols';\r\n    return undefined;\r\n}","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.gif';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={styles.preloader}>\r\n    { props.isFetching ? <img src={preloader} alt=\"preloader\"/> : ''}\r\n    </div>;\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2-Yg6\",\"error\":\"FormControls_error__2zleJ\"};","import {profileAPI} from '../api/api';\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst SET_PROFILE_INFO = 'SET-PROFILE-INFO';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SET_PHOTO = 'SET-PHOTO';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialState  = {\r\n    posts: [\r\n        { id: 1, author: 'shpakjs', date: '7/13/2019', body:'Hi'},\r\n        { id: 2, author: 'shpakjs', date: '7/11/2019', body:'Hey'},\r\n        { id: 3, author: 'shpakjs', date: '6/20/2019', body:'Ho'},\r\n        { id: 4, author: 'shpakjs', date: '7/17/2019', body:'Hooray'},\r\n    ],\r\n    profileInfo: null,\r\n    status: null,\r\n    isFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: state.posts.length+2,\r\n                author: state.profileInfo.fullName,\r\n                body: action.newPostText,\r\n                date: (new Date()).toLocaleDateString('en-us'),\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state,\r\n                posts: state.posts.filter(item => item.id !== action.postId)};\r\n        }\r\n        case SET_PROFILE_INFO: {\r\n            return { ...state, profileInfo: action.profileInfo };\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case SET_STATUS: {\r\n            return { ...state, status: action.status }\r\n        }\r\n        case SET_PHOTO: {\r\n            return { ...state,  profileInfo: { ...state.profileInfo, photos: action.photo } }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addPostAC = (newPostText) => ({ type: ADD_POST , newPostText: newPostText});\r\n\r\nexport const deletePostAC = (postId) => ({ type: DELETE_POST , postId: postId});\r\n\r\nexport const setProfileInfoAC = (profileInfo) => ({type: SET_PROFILE_INFO, profileInfo: profileInfo });\r\n\r\nexport const toggleIsFetchingAC = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const setStatusAC = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const setPhotoAC = (photo) => ({type: SET_PHOTO, photo});\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.setStatus(status);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(setStatusAC(status));\r\n    }\r\n}\r\n//thunk creator\r\nexport const getStatus = (userId) => async(dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatusAC(response));\r\n}\r\n\r\n//thunk creator\r\nexport const savePhoto = (photo) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(photo);\r\n    if(response.resultCode === 0) {\r\n        dispatch(setPhotoAC(response.data.photos));\r\n    }\r\n}\r\n//thunk creator\r\nexport const getProfile = (userId) => async(dispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    let response = await profileAPI.getUserProfile(userId); \r\n    dispatch(setProfileInfoAC(response));\r\n    dispatch(toggleIsFetchingAC(false));\r\n}\r\n\r\n//thunk creator\r\nexport const saveProfile = (formData) => async(dispatch, getState) => {\r\n    let response = await profileAPI.saveUserProfile(formData);\r\n    if(response.resultCode === 0) {\r\n        let userId = getState().authPage.userId;\r\n        dispatch(getProfile(userId));\r\n    } else {\r\n        let message = response.messages[0];\r\n        let errorFieldsArr = message.slice(message.indexOf('(') + 1, message.indexOf(')')).split('->');\r\n        let errorData = {};\r\n        errorFieldsArr[1] \r\n            ? errorData[errorFieldsArr[0].toLowerCase()] = { [errorFieldsArr[1].toLowerCase()]: 'Invalid data' }  \r\n            : errorData[errorFieldsArr[0].toLowerCase()] = 'Invalid data';\r\n        dispatch(stopSubmit(\"edit-profile\", errorData));\r\n        return Promise.reject(message);\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}
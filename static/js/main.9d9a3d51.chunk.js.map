{"version":3,"sources":["components/Navbar/Navbar.module.css","assets/images/puzzle.svg","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","assets/images/preloader.gif","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","assets/images/profile-bg.jpg","assets/images/login.jpg","components/Profile/ProfileInfo/ProfileInfo.module.css","api/api.js","redux/profileReducer.js","redux/dialogsReducer.js","redux/sidebarReducer.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Navbar/Navbar.js","hoc/withAuthRedirect.js","components/Navbar/NavbarContainer.js","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","utils/validators/validators.js","components/common/FormControls/FormControls.js","components/Dialogs/NewMessage.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/common/Paginator/Paginator.js","components/Users/User/User.js","components/Users/Users.js","components/common/Preloader/Preloader.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/NewPost.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","components/Login/Login.js","components/Login/LoginContainer.js","App.js","serviceWorker.js","index.js","components/Users/User/User.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/images/user.png","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Login/Login.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/common/FormControls/FormControls.module.css","components/common/Paginator/Paginator.module.css"],"names":["module","exports","nav__wrapper","logo","nav","item","active","__webpack_require__","p","news","music","settings","preloader","profile__header","user__info","user__photo","info","name","info__item","instance","axios","baseURL","withCredentials","crossDomain","headers","API-KEY","usersAPI","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","toggleFollowingUser","_toggleFollowingUser","Object","asyncToGenerator","regenerator_default","a","mark","_callee","userId","isFollow","wrap","_context","prev","next","delete","t0","sent","post","abrupt","stop","_x","_x2","apply","this","profileAPI","status","put","authAPI","email","password","remeberMe","initialState","posts","id","author","date","body","profileInfo","isFetching","toggleIsFetchingAC","type","setStatusAC","profileReducer","state","action","newPost","fullName","newPostText","Date","toLocaleDateString","objectSpread","toConsumableArray","filter","postId","dialogs","messages","time","message","newMessageText","dialogsReducer","newMessage","messageText","newMessageBody","sidebarReducer","users","totalUsersCount","followingInProgress","toggleFollowingAC","setUsersAC","toggleFollowingProgressAC","usersReducer","stateCopy","map","user","followed","includes","filteredArr","value","isAuth","login","authMeAC","authMe","_ref","dispatch","_response$data","_login","resultCode","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sidebarPage","usersPage","authPage","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddlewear","Navbar","props","react_default","createElement","className","styles","src","alt","react_router_dom","to","activeClassName","onClick","logout","mapStateToPropsForRedirect","withAuthRedirect","Component","RedirectComponent","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","react_router","React","connect","NavbarContainer","components_Navbar_Navbar","Fragment","_ref3","_callee3","_context3","_x3","DialogItem","path","dialog","Message","message__info","requiredField","maxLengthCreator","maxLength","FormControl","input","meta","child","objectWithoutProperties","hasError","touched","error","formControl","children","Textarea","restProps","FormControls_FormControl","assign","Input","createField","placeholder","validator","component","text","Field","validate","maxLength100","NewMessageReduxForm","reduxForm","onSubmit","handleSubmit","NewMessage","new__message","formData","sendMessage","Dialogs","dialogsElements","Dialogs_DialogItem_DialogItem","messagesElements","Dialogs_Message_Message","dialogs__items","Dialogs_NewMessage","addMessage","mapStateToProps","mapDispatchToProps","messageBody","AuthRedirectComponent","Paginator","itemsCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","pagination","selected","User","toggleFollowing","photos","small","userPhoto","follow","disabled","some","user__name","user__location","location","city","user__status","Users","Users_User_User","common_Paginator_Paginator","Preloader","createSelector","u","getPageSize","getUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","_this","requestUsers","common_Preloader_Preloader","components_Users_Users","toggleFollowingProgress","isFollowing","_ref2","_callee2","_context2","items","totalCount","Post","author__photo","author__name","controls","maxLength30","NewPostRedaxForm","rows","NewPost","add__post","addPost","newPostBody","MyPosts","MyPosts_Post_Post","MyPosts_NewPost","PureComponent","MyPostsContainer","ProfileStatusWithHooks","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","_useState4","setStatus","useEffect","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","onDoubleClick","ProfileInfo","profile","bg","lookingForAJobDescription","ProfileInfo_ProfileStatusWithHooks","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","myId","authorizedUserId","match","params","getProfile","getStatus","components_Profile_Profile","withRouter","LoginReduxForm","Login","style","backgroundImage","onLogin","rememberMe","LoginAPIComponent","loginForm","components_Login_Login","LoginContainer","_response$data$data","errorMessage","stopSubmit","_error","App","initialize","isInitialized","Navbar_NavbarContainer","render","Profile_ProfileContainer","DialogsContainer","Users_UsersContainer","News","Music","Settings","Login_LoginContainer","isAuthorized","Boolean","hostname","ReactDOM","react_redux_es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","summaryError"],"mappings":"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","file":"static/js/main.9d9a3d51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav__wrapper\":\"Navbar_nav__wrapper__2DkJ9\",\"logo\":\"Navbar_logo__bKbDB\",\"nav\":\"Navbar_nav__1a5wn\",\"item\":\"Navbar_item__Bk820\",\"active\":\"Navbar_active__32Ucf\"};","module.exports = __webpack_public_path__ + \"static/media/puzzle.ab9cd3a5.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__4oCLf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__QBUSb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__2HBsZ\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.8c636777.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1jF9d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__header\":\"Profile_profile__header__1zUqP\",\"user__info\":\"Profile_user__info__3jJC1\",\"user__photo\":\"Profile_user__photo__1dDiZ\",\"info\":\"Profile_info__1FqVY\",\"name\":\"Profile_name__17TuY\",\"info__item\":\"Profile_info__item__3hd4A\"};","module.exports = __webpack_public_path__ + \"static/media/profile-bg.c725ee32.jpg\";","module.exports = __webpack_public_path__ + \"static/media/login.d9c7a975.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__header\":\"ProfileInfo_profile__header__2-scl\",\"user__info\":\"ProfileInfo_user__info__2oXQp\",\"user__photo\":\"ProfileInfo_user__photo__3Ea4Y\",\"info\":\"ProfileInfo_info__3axPo\",\"name\":\"ProfileInfo_name__1kjHb\",\"info__item\":\"ProfileInfo_info__item__1R2KC\"};","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true, \r\n    crossDomain: true,\r\n    headers: {\r\n        \"API-KEY\": '77a146e4-229d-496d-9655-f77f4dafa8d8'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    async toggleFollowingUser(userId, isFollow) {\r\n        let response = isFollow \r\n            ? await instance.delete(`follow/${userId}`) \r\n            : await instance.post(`follow/${userId}`)\r\n        return response.data;\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    setStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n        .then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    login(email, password, remeberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, remeberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","import {profileAPI} from '../api/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst SET_PROFILE_INFO = 'SET-PROFILE-INFO';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialState  = {\r\n    posts: [\r\n        { id: 1, author: 'shpakjs', date: '7/13/2019', body:'Hi'},\r\n        { id: 2, author: 'shpakjs', date: '7/11/2019', body:'Hey'},\r\n        { id: 3, author: 'shpakjs', date: '6/20/2019', body:'Ho'},\r\n        { id: 4, author: 'shpakjs', date: '7/17/2019', body:'Hooray'},\r\n    ],\r\n    profileInfo: null,\r\n    status: null,\r\n    isFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: state.posts.length+2,\r\n                author: state.profileInfo.fullName,\r\n                body: action.newPostText,\r\n                date: (new Date()).toLocaleDateString('en-us'),\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state,\r\n                posts: state.posts.filter(item => item.id !== action.postId)};\r\n        }\r\n        case SET_PROFILE_INFO: {\r\n            return { ...state, profileInfo: action.profileInfo };\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case SET_STATUS: {\r\n            return { ...state, status: action.status }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addPostAC = (newPostText) => ({ type: ADD_POST , newPostText: newPostText});\r\n\r\nexport const deletePostAC = (postId) => ({ type: DELETE_POST , postId: postId});\r\n\r\nexport const setProfileInfoAC = (profileInfo) => ({type: SET_PROFILE_INFO, profileInfo: profileInfo });\r\n\r\nexport const toggleIsFetchingAC = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const setStatusAC = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.setStatus(status);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(setStatusAC(status));\r\n    }\r\n}\r\n//thunk creator\r\nexport const getStatus = (userId) => async(dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatusAC(response));\r\n}\r\n//thunk creator\r\nexport const getProfile = (userId) => async(dispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    let response = await profileAPI.getUserProfile(userId);    \r\n    dispatch(setProfileInfoAC(response));\r\n    dispatch(toggleIsFetchingAC(false));\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Julia' },\r\n        { id: 2, name: 'Andrii' },\r\n        { id: 3, name: 'Anton ' },\r\n    ],\r\n    messages: [\r\n        { id: 1, author: 'Yuliia', time: '21:00', message:'Hi'},\r\n        { id: 2, author: 'Anton', time: '07:00', message:'How r u'},\r\n        { id: 3, author: 'Anton', time: '12:31', message:'fantastic and u?'},\r\n        { id: 4, author: 'Yuliia', time: '12:47', message: 'want some pizza'},\r\n        { id: 5, author: 'Anton', time: '21:55', message:'me too'},\r\n    ],\r\n    newMessageText: ''\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SEND_MESSAGE:\r\n            let newMessage = {\r\n                id: state.messages.length + 2, \r\n                author: 'Yuliia', \r\n                time: '21:00', \r\n                message: action.messageText.newMessageBody\r\n            };\r\n            return {\r\n                ...state,\r\n                messages:[...state.messages, newMessage],\r\n                newMessageText: ''\r\n            };\r\n        default: \r\n            return state;\r\n    }\r\n}\r\nexport const sendMessageCreator = (messageText) => ({ type: 'SEND-MESSAGE' , messageText: messageText});    \r\n\r\nexport default dialogsReducer;","\r\nconst sidebarReducer = (state = {}, action) => {\r\n    switch(action.type) {\r\n        case 'sidebar': \r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import {usersAPI} from '../api/api';\r\nconst TOGGLE_FOLLOW = 'FOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE-FOLLOWING-PROGRESS';\r\n\r\nlet initialState  = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case TOGGLE_FOLLOW: {\r\n            let stateCopy = {...state};\r\n            stateCopy.users = state.users.map((user) => {\r\n                if(user.id === action.userId) {\r\n                    return {...user, followed: !user.followed};\r\n                }\r\n                else {\r\n                    return {...user};\r\n                }\r\n            });\r\n            return stateCopy;\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users], currentPage: action.currentPage, totalUsersCount: action.totalUsersCount }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_FOLLOWING_PROGRESS: {\r\n            if(state.followingInProgress.includes(action.followingInProgress)) {\r\n                let filteredArr = state.followingInProgress.filter(function(value){\r\n                    return value !== action.followingInProgress;\r\n                });\r\n                return { ...state, followingInProgress: [...filteredArr]}\r\n            }\r\n            else{\r\n                return { ...state, followingInProgress: [...state.followingInProgress, action.followingInProgress]}\r\n            }\r\n            \r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const toggleFollowingAC = (userId) => ({ type: TOGGLE_FOLLOW , userId});\r\n\r\nexport const setUsersAC = (users, currentPage, totalUsersCount) => \r\n    ({type: SET_USERS, users, currentPage,  totalUsersCount});\r\n    \r\nexport const toggleIsFetchingAC = (isFetching) => \r\n    ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const toggleFollowingProgressAC = (followingInProgress) => \r\n    ({type: TOGGLE_FOLLOWING_PROGRESS, followingInProgress});\r\n\r\n//thunk creator\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsersAC(response.items, currentPage, response.totalCount));\r\n    dispatch(toggleIsFetchingAC(false));\r\n}\r\n\r\nexport const toggleFollowing = (userId , isFollowing) => async (dispatch) => {\r\n    dispatch(toggleFollowingProgressAC(userId));\r\n    let response = await usersAPI.toggleFollowingUser(userId, isFollowing);\r\n    if(response.resultCode === 0) {\r\n        dispatch(toggleFollowingAC(userId));\r\n        dispatch(toggleFollowingProgressAC(userId));\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\nconst AUTH_ME = 'auth/AUTH-ME';\r\n\r\nlet initialState = {\r\n    isAuth: false,\r\n    userId: null,\r\n    email: null,\r\n    login: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case AUTH_ME:\r\n            return {\r\n                ...state,\r\n                userId: action.id,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: action.isAuth,\r\n            };\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const authMeAC = (id, email, login, isAuth) => ({ type: AUTH_ME, id, email, login, isAuth });    \r\n//thunk creator\r\nexport const authMe = () => async (dispatch) => { \r\n    let response = await authAPI.me();\r\n    if(response.resultCode === 0) {\r\n        let {id, login, email} = response.data;\r\n        dispatch(authMeAC(id, login, email, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe = false) => async(dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if(response.data.resultCode === 0) {\r\n        let {userId, login, email} = response.data.data;\r\n        dispatch(authMe(userId, login, email, true));\r\n    } else {\r\n        let errorMessage = response.data.messages.length > 0 ? response.data.messages[0]: 'Some error'\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async(dispatch) => {\r\n    let response = authAPI.logout();\r\n    dispatch(authMeAC(null, null, null, false));\r\n}\r\n\r\nexport default authReducer;","import { authMe } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = \"SET-INITIALIZED\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_INITIALIZED:\r\n            debugger\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED });    \r\n\r\nexport const initialize = () => (dispatch) => {\r\n    dispatch(authMe())\r\n    .then( () => dispatch(initializedSuccess()));\r\n}\r\n\r\nexport default appReducer;","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer';\r\nimport thunkMiddlewear from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    authPage: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddlewear)));\r\n\r\nexport default store;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styles from './Navbar.module.css';\r\nimport logo from './../../assets/images/puzzle.svg';\r\n\r\nconst Navbar = (props) => {\r\n    return (<div className = {styles.nav__wrapper}> \r\n            <img src={logo} className={styles.logo} alt=\"\"/>\r\n            <nav className = {styles.nav}>\r\n                <div className ={`${styles.item} ${styles.active}`}>\r\n                    <NavLink to=\"/profile\" activeClassName = {styles.active}>Profile</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/dialogs\" activeClassName = {styles.active}>Messages</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/news\" activeClassName = {styles.active}>News</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/music\" activeClassName = {styles.active}>Music</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/settings\" activeClassName = {styles.active}>Settings</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <NavLink to=\"/users\" activeClassName = {styles.active}>Users</NavLink>\r\n                </div>\r\n                <div className = {styles.item}>\r\n                    <button onClick={props.logout} >Logout</button>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            \r\n            if(!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n    let ConnectRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Navbar from './Navbar';\r\nimport { logout } from '../../redux/authReducer';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass NavbarContainer extends React.Component {\r\n    render() {\r\n        return  this.props.isAuth ? <Navbar {...this.props} />: <></>;\r\n    }\r\n};\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        login: state.authPage.login,\r\n        userId: state.authPage.userId,\r\n        isAuth: state.authPage.isAuth,\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {logout}), withAuthRedirect )(NavbarContainer);\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styles from './DialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = `/dialogs/${props.id}`;\r\n    return (\r\n        <NavLink \r\n            to = {path} \r\n            activeClassName = {styles.active} \r\n            className = {styles.dialog}>\r\n            {props.name}\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport styles from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className = {styles.message}>\r\n            <div className = {styles.message__info}>\r\n                <div className = {styles.author}>{props.author}</div>\r\n                <div className = {styles.time}>{props.time}</div>\r\n            </div>\r\n            {props.message}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;","export const requiredField = value => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const maxLength = value => {\r\n    if(value && value.length > 30) return 'Max length is 30 symbols';\r\n    return undefined;\r\n}","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nexport const FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (<div className = {styles.formControl + \" \" + (hasError ? styles.error : '') }>\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        { hasError && <span>{meta.error}</span> }\r\n    </div>);\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...props.input} {...restProps}></textarea></FormControl>\r\n} \r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...props.input} {...restProps}  /></FormControl>\r\n} \r\nexport const createField = (placeholder, name, validator, component, text, props) => {\r\n    return <div><Field placeholder={placeholder} \r\n            component={component} \r\n            name={name}\r\n            validate={validator}\r\n            {...props}\r\n            />{text}</div>\r\n}","import React from 'react';\r\nimport {reduxForm, Field} from 'redux-form';\r\nimport styles from './Dialogs.module.css';\r\nimport { maxLengthCreator, requiredField } from '../../utils/validators/validators';\r\nimport { Textarea } from '../common/FormControls/FormControls';\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst NewMessageForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <Field \r\n            component={Textarea}\r\n            name=\"newMessageBody\" \r\n            placeholder=\"Enter what you want to say\" \r\n            validate={[requiredField, maxLength100]}\r\n        />\r\n        <button>Send</button>\r\n    </form>;\r\n\r\n}\r\nconst NewMessageReduxForm = reduxForm({form: 'newMessage'})(NewMessageForm);\r\nconst NewMessage = (props) => {\r\n    const onSubmitMessage = (formData) => {\r\n        props.sendMessage(formData);\r\n    }\r\n    return <div className={ styles.new__message }><NewMessageReduxForm onSubmit={onSubmitMessage}/></div>\r\n}\r\n\r\nexport default NewMessage;","import React from 'react';\r\nimport styles from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport NewMessage from './NewMessage';\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsElements = props.dialogs.map( dialog => {\r\n        return (\r\n            <DialogItem \r\n                key = {dialog.id} \r\n                name = {dialog.name} \r\n                id = {dialog.id}\r\n            />);\r\n    });\r\n    let messagesElements = props.messages.map( message => {\r\n        return (\r\n            <Message \r\n            key = {message.id} \r\n            message = { message.message }\r\n            author = {message.author}\r\n            time = {message.time}\r\n            />\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className = {styles.dialogs}> \r\n            <div className = {styles.dialogs__items}>\r\n                { dialogsElements }\r\n            </div>\r\n            <div className = {styles.messages}>\r\n                { messagesElements }\r\n                <NewMessage sendMessage={props.addMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport Dialogs from './Dialogs';\r\nimport { sendMessageCreator } from '../../redux/dialogsReducer';\r\nimport {connect} from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs,\r\n        messages: state.dialogsPage.messages,\r\n        newMessageText: state.dialogsPage.newMessageText\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (messageBody) => {\r\n            dispatch(sendMessageCreator(messageBody));\r\n        }\r\n    }\r\n};\r\n\r\ncompose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);","import React from 'react';\r\nimport styles from './News.module.css';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className = {styles.news}> \r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(News);\r\nexport default AuthRedirectComponent;","import React from 'react';\r\nimport styles from './Music.module.css';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className = {styles.music}> \r\n            Music\r\n        </div>\r\n    );\r\n}\r\nlet AuthRedirectComponent = withAuthRedirect(Music);\r\nexport default AuthRedirectComponent;","import React from 'react';\r\nimport styles from './Settings.module.css';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nconst Settings = () => {\r\n    return (\r\n        <div className = {styles.settings}> \r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(Settings);\r\n\r\nexport default AuthRedirectComponent;","import React from 'react';\r\nimport styles from './Paginator.module.css';\r\n\r\nconst Paginator = ({itemsCount, pageSize, onPageChanged,currentPage}) => {\r\n    let pagesCount = Math.ceil(itemsCount/pageSize);\r\n    let pages = [];\r\n    for(let i=1; i < pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    return <div className={styles.pagination}>\r\n        {\r\n            pages.map(p => {\r\n                return <span key={p} onClick={() => {onPageChanged(p)}} className={currentPage === p ? styles.selected : '' }> {p} </span>\r\n            })\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './User.module.css';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport {NavLink} from 'react-router-dom';\r\nlet User = ({user, followingInProgress, toggleFollowing}) => {\r\n        return ( <div className = {styles.user} key = {user.id}>\r\n            <div className={styles.user__photo}>\r\n                <NavLink to={'/profile' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small: userPhoto} alt=\"user-pic\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.follow}>\r\n                <button \r\n                    disabled={followingInProgress.some( id => id === user.id )} \r\n                    onClick={() => {toggleFollowing(user.id, user.followed)}}>\r\n                    {user.followed ? 'Unfollow': 'Follow'}\r\n                </button>\r\n            </div>\r\n            <div className={styles.user__name}>\r\n                {user.name}\r\n            </div>\r\n            <div className = {styles.user__location}>{user.location ? user.location.city: '' }</div>\r\n            <div className = {styles.user__status}>\r\n                {user.status}\r\n            </div>\r\n        </div>\r\n        );\r\n    \r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User/User';\r\n\r\nlet Users = (props) => {\r\n        return (<div>\r\n            {props.users.map(user => {\r\n                return <User\r\n                    user={user} \r\n                    followingInProgress={props.followingInProgress} \r\n                    toggleFollowing={props.toggleFollowing} />\r\n            })}\r\n            <Paginator \r\n                pageSize={props.pageSize} \r\n                itemsCount={props.totalUsersCount} \r\n                onPageChanged={props.onPageChanged} \r\n                currentPage={props.currentPage}/>\r\n    </div>);\r\n};\r\n\r\nexport default Users;","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.gif';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={styles.preloader}>\r\n    { props.isFetching ? <img src={preloader} alt=\"preloader\"/> : ''}\r\n    </div>;\r\n}\r\n\r\nexport default Preloader;","import { createSelector } from 'reselect';\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {toggleFollowing, requestUsers} from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getUsers, getPageSize, getUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/usersSelectors';\r\n\r\nclass UsersContainer  extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    onPageChanged = (p) => {\r\n        this.props.requestUsers(p, this.props.pageSize);\r\n    }\r\n    render() {\r\n        return  <>\r\n                    <Preloader isFetching={this.props.isFetching}/>\r\n                    <Users \r\n                        totalUsersCount = {this.props.totalUsersCount}\r\n                        pageSize = {this.props.pageSize}\r\n                        users = {this.props.users}\r\n                        currentPage = {this.props.currentPage}\r\n                        toggleFollowing = {this.props.toggleFollowing}\r\n                        toggleFollowingProgress = {this.props.toggleFollowingProgress}\r\n                        onPageChanged={this.onPageChanged}\r\n                        followingInProgress = {this.props.followingInProgress}\r\n                        />\r\n                </>;\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        toggleFollowing: toggleFollowing,\r\n        requestUsers: requestUsers\r\n    }),\r\n    withAuthRedirect\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport styles from './Post.module.css';\r\nimport user from '../../../../assets/images/user.png';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className = {styles.post}>\r\n            <div className={styles.author__photo}>\r\n                <img src={user} alt=\"user-pic\"/>\r\n            </div>\r\n            <div className={styles.author__name}>\r\n                {props.author}\r\n            </div>\r\n            <div className = {styles.date}>{props.date}</div>\r\n            <div className = {styles.body}>\r\n                {props.body}\r\n            </div>\r\n            <div className = {styles.controls}>\r\n                <button className=\"like\">like</button>\r\n                <button className=\"reply\">reply</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport styles from './MyPosts.module.css';\r\nimport {requiredField, maxLengthCreator} from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormControls/FormControls';\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst NewPostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit} >\r\n            <Field \r\n                rows=\"10\" \r\n                name=\"newPostBody\" \r\n                placeholder=\"Enter your genious thoughts\" \r\n                component={Textarea}\r\n                validate={[requiredField, maxLength30]}/>\r\n            <button>Add post</button>\r\n    </form>;\r\n}\r\nconst NewPostRedaxForm = reduxForm({form: 'newPostForm'})(NewPostForm);\r\n\r\nconst NewPost = (props) => {\r\n    const onPostSubmit = (formData) => {\r\n        props.addPost(formData.newPostBody);\r\n    }\r\n    return <div className = {styles.add__post}><NewPostRedaxForm onSubmit={onPostSubmit}/></div>\r\n}\r\n\r\nexport default NewPost;","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport NewPost from './NewPost';\r\n\r\nclass MyPosts extends React.PureComponent {\r\n    render() {\r\n        let posts = this.props.posts.map( post => {\r\n            return (<Post \r\n                key = { post.id }\r\n                id = { post.id } \r\n                author = { post.author }\r\n                body = { post.body }\r\n                date = { post.date }\r\n            />);\r\n        });\r\n        let onAddPost = (newPostText) => {\r\n            this.props.addPost(newPostText);\r\n        }\r\n        return (\r\n            <div className={styles.posts}>\r\n                <div>My posts</div>\r\n                <NewPost addPost={onAddPost}/>\r\n                <div>{ posts }</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostAC} from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts'\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n};\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost: addPostAC })(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, { useState, useEffect }from 'react';\r\nimport styles from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [ editMode, setEditMode ] = useState(false);\r\n    let [ status, setStatus ] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    let activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    let deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    let onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n    return (<div className= {styles.info__item}>\r\n            { editMode\r\n            ?<div>\r\n                <input \r\n                    autoFocus={true} \r\n                    value={status} \r\n                    placeholder=\"Enter your status\"\r\n                    onBlur={deactivateEditMode}\r\n                    onChange = {onStatusChange} />\r\n            </div>\r\n            :<div>\r\n                <span onDoubleClick={activateEditMode} >\r\n                    {status}\r\n                </span>\r\n            </div>\r\n            }\r\n    </div>);\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport bg from './../../../assets/images/profile-bg.jpg';\r\nimport styles from './ProfileInfo.module.css';\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n    let info = props.info;\r\n    return (<div className = {styles.profile}>\r\n            <div className = {styles.profile__header}>\r\n                <img src = {bg} alt=\"\"/>\r\n            </div>\r\n            <div className = {styles.user__info}>\r\n                <div className = {styles.user__photo}>\r\n                    <img src={info.photos.small != null ? info.photos.small: userPhoto} alt=\"user-pic\"/>\r\n                </div>\r\n                <div className = {styles.info}>\r\n                    <h4 className= {styles.name}>{info.fullName}</h4>\r\n                    <div className= {styles.info__item}>{info.lookingForAJobDescription}</div>\r\n                    <ProfileStatusWithHooks status = {props.status} updateStatus = {props.updateStatus}/>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={styles.profile} >\r\n            { \r\n                props.profileInfo !== null \r\n                ? <><ProfileInfo \r\n                    info={props.profileInfo} \r\n                    status= {props.status}\r\n                    updateStatus = {props.updateStatus} />\r\n                    <MyPostsContainer posts={props.posts} /></>\r\n                : ''\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport {connect} from 'react-redux';\r\nimport { getProfile, getStatus, updateStatus } from '../../redux/profileReducer';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let myId = this.props.isAuth ? this.props.authorizedUserId : 2\r\n        let userId = this.props.match.params.userId ? this.props.match.params.userId : myId;\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n    render() {\r\n        return  <>\r\n                    <Preloader isFetching={this.props.isFetching}/>\r\n                    <Profile { ...this.props }/>\r\n                </>;\r\n    }\r\n};\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profileInfo: state.profilePage.profileInfo,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.authPage.userId,\r\n        isFetching: state.usersPage.isFetching\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile: getProfile, getStatus: getStatus, updateStatus: updateStatus}),\r\n    withAuthRedirect,\r\n    withRouter\r\n)(ProfileContainer);\r\n","import React from 'react';\r\nimport styles from './Login.module.css';\r\nimport bg from '../../assets/images/login.jpg';\r\nimport {reduxForm} from 'redux-form';\r\nimport { Input, createField } from '../common/FormControls/FormControls';\r\nimport { requiredField } from '../../utils/validators/validators';\r\nimport { Redirect } from 'react-router-dom';\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return <form onSubmit = {handleSubmit}>\r\n        <h4>Login</h4>\r\n        { createField(\"Email\", \"login\", requiredField, Input, null, {}) }\r\n        { createField(\"Password\", \"password\", requiredField, Input, null, {type:\"password\"}) }\r\n        { createField(\"Remember me\", \"rememberMe\", null, \"input\", \"remember me\", {type:\"checkbox\"}) }\r\n        <button>Login</button>\r\n    </form>;\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.onLogin(formData.login, formData.password, formData.rememberMe);\r\n    }\r\n    if(props.isAuth) return <Redirect to={\"/profile\"} />\r\n    return <div className={styles.login} style={{backgroundImage: `url(${bg})`}}><LoginReduxForm onSubmit={onSubmit}/></div>\r\n\r\n}\r\nexport default Login;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport styles from './Login.module.css';\r\nimport {login} from '../../redux/authReducer';\r\nimport Login from './Login';\r\n\r\nclass LoginAPIComponent  extends React.Component {\r\n    onLogin = (email, password, rememberMe) => {\r\n        this.props.login(email, password, rememberMe);\r\n    }\r\n    render() {\r\n        return( <div className={styles.loginForm}>\r\n            <Login\r\n                isAuth = {this.props.isAuth}\r\n                onLogin = {this.onLogin}\r\n        /></div>);\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth\r\n    }\r\n};\r\n\r\nconst LoginContainer = connect(mapStateToProps, {\r\n    login: login,\r\n})(LoginAPIComponent);\r\n\r\nexport default LoginContainer;\r\n","import React from 'react';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport './App.css';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport LoginContainer from './components/Login/LoginContainer';\r\nimport { initialize } from './redux/appReducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\n\r\nclass App extends React.Component {\r\n  componentDidMount () {\r\n      this.props.initialize();\r\n  }\r\n\r\n  render() {\r\n    if(this.props.isInitialized) {\r\n      return (<div className=\"app-wraper\">\r\n        <NavbarContainer />\r\n        <div className=\"app-wraper-content\">\r\n            <Route path= '/profile:userId?' render ={ () => \r\n              <ProfileContainer/>\r\n            }/>\r\n            <Route path= '/dialogs' render ={ () => \r\n              <DialogsContainer/> \r\n            } />\r\n            <Route path= '/users' component = { () => <UsersContainer/> } />\r\n            <Route path= '/news' component = {News} />\r\n            <Route path= '/music' component = {Music} />\r\n            <Route path= '/settings' component = {Settings} />\r\n            <Route path= '/login' component = { () => <LoginContainer/> } />\r\n        </div>\r\n      </div>)\r\n    } else { return <Preloader /> }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isInitialized: state.app.initialized,\r\n    isAuthorized: state.authPage.isAuth\r\n  }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {initialize}),\r\n    withRouter)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport store from './redux/reduxStore';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux';\r\nReactDOM.render(\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n        <App/>\r\n        </Provider>\r\n    </HashRouter>, \r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2jf5z\",\"user__photo\":\"User_user__photo__14iwO\",\"user__name\":\"User_user__name__2IZTS\",\"user__location\":\"User_user__location__21UpZ\",\"user__status\":\"User_user__status__cvip5\",\"follow\":\"User_follow__1aA5o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2_POh\",\"author__photo\":\"Post_author__photo__wnPUg\",\"author__name\":\"Post_author__name__2Tcpd\",\"date\":\"Post_date__1E891\",\"body\":\"Post_body__2K73E\",\"controls\":\"Post_controls__WSHmO\"};","module.exports = __webpack_public_path__ + \"static/media/user.44a5c053.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3OCuj\",\"dialogs__items\":\"Dialogs_dialogs__items__3BPiw\",\"messages\":\"Dialogs_messages__VHSBW\",\"new__message\":\"Dialogs_new__message__-ogsP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3y8TW\",\"author\":\"Message_author__1yYBz\",\"time\":\"Message_time__lIPko\",\"body\":\"Message_body__1K3Fo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2J-4E\",\"add__post\":\"MyPosts_add__post__2gsly\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summaryError\":\"Login_summaryError__3z9tl\",\"login\":\"Login_login__gmgJ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3xkA2\",\"active\":\"DialogItem_active__usKBI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__TZU6F\",\"error\":\"FormControls_error__10x1r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Paginator_selected__3TnAJ\"};"],"sourceRoot":""}